(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5083)}])},5083:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var i=t(5893),o=t(7294);let r=async e=>{try{let n=await fetch("https://www.googleapis.com/oauth2/v1/userinfo",{headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)throw Error("Failed to fetch user info: ".concat(n.statusText));let t=await n.json();return t}catch(e){return console.error(e),null}};var s=t(6467),c=t.n(s);t(3299);let a=e=>{let{navigateToPage:n}=e,[t,s]=(0,o.useState)(null),a=()=>{chrome.identity.getAuthToken({interactive:!0,scopes:["openid","profile","email"]},async function(e){if(chrome.runtime.lastError){console.error(chrome.runtime.lastError);return}if(e)try{let n=await r(e);console.log(n),s(n)}catch(e){console.error(e)}})},l=()=>{let e=document.body.innerHTML;console.log(e),alert("Page "+e)},d=async()=>{let[e]=await chrome.tabs.query({active:!0,currentWindow:!0});console.log(e),chrome.scripting.executeScript({target:{tabId:e.id},function:l})},h=()=>{let e="https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=78hm5gmgooj98f&redirect_uri=".concat(encodeURIComponent("https://lekjjhjjcjghpjffgamknpaemfmplbml.chromiumapp.org/"),"&scope=r_liteprofile%20r_emailaddress");window.location.href=e},u=()=>{chrome.runtime.sendMessage({message:"openSignInPopup"})};return(0,i.jsx)("div",{className:c().container,children:(0,i.jsxs)("main",{className:c().main,children:[(0,i.jsx)("h1",{className:c().title,children:"Skoop extension"}),(0,i.jsx)("p",{children:"[ - This is Index page content - ]"}),(0,i.jsx)("button",{onClick:a,children:"Login with Google"}),(0,i.jsx)("button",{onClick:h,children:"Login with LinkedIn"}),(0,i.jsx)("button",{onClick:()=>u(),children:"Sign in"}),(0,i.jsx)("button",{onClick:d,children:"Scrape website"}),t&&(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"User Info:"}),(0,i.jsx)("pre",{children:JSON.stringify(t,null,2)})]}),(0,i.jsx)("p",{onClick:()=>n("new"),children:"Go to New Page >"})]})})};function l(e){let{navigateToPage:n}=e;return(0,i.jsx)("div",{className:c().container,children:(0,i.jsxs)("main",{className:c().main,children:[(0,i.jsx)("h1",{className:c().title,children:"NEXT-CHROME-STARTER"}),(0,i.jsx)("p",{className:c().description,children:"This is an example of a Browser Extension built with NEXT.JS. Please refer to the GitHub repo for running instructions and documentation"}),(0,i.jsx)("h1",{className:c().code,children:"New Page ./components/New/index.js"}),(0,i.jsx)("p",{children:"[ - This is New page content - ]"}),(0,i.jsx)("p",{onClick:()=>n("index"),children:"< Go Back"})]})})}function d(){let[e,n]=(0,o.useState)("index"),t=e=>{n(e)};return(0,i.jsxs)(i.Fragment,{children:["updaated","index"===e&&(0,i.jsx)(a,{navigateToPage:t}),"new"===e&&(0,i.jsx)(l,{navigateToPage:t})]})}},6467:function(e){e.exports={container:"Pages_container__SbWhT",main:"Pages_main__5_Vsf",title:"Pages_title__5_zk8",description:"Pages_description__Vsj9E",code:"Pages_code__vzNOX"}}},function(e){e.O(0,[299,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);